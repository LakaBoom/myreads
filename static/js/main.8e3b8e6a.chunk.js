(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t){e.exports="data:image/png;base64,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"},26:function(e,t,a){e.exports=a(52)},32:function(e,t,a){},33:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(14),r=a.n(c),i=(a(32),a(10)),l=a(4),s=a(5),u=a(7),h=a(6),d=a(8),p=(a(33),a(34),a(53)),f=a(24),m=a.n(f),C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleChange=function(e){var t=a.props.book,n=e.target.value;a.props.updateShelf(t,n)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.book,a=e.books,n=a.currentlyReading.concat(a.wantToRead,a.read),c="none";return n.forEach(function(e){e.id!==t.id||(c=e.shelf)}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{value:c,onChange:this.handleChange},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"Want to Read"),o.a.createElement("option",{value:"read"},"Read"),o.a.createElement("option",{value:"none"},"None")))}}]),t}(n.Component),O=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.updateShelf,a=e.book,n=e.books;return o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{backgroundImage:"url(".concat(a.imageLinks&&a.imageLinks.smallThumbnail?a.imageLinks.smallThumbnail:m.a,")")}}),o.a.createElement(C,{updateShelf:t,book:a,books:n})),o.a.createElement("div",{className:"book-title"},a.title?a.title:"No title available"),o.a.createElement("div",{className:"book-authors"},a.authors?a.authors[0]:"No author available"))}}]),t}(n.Component),A=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.updateShelf,a=e.books,n=[{name:"Currently Reading",booksInside:a.currentlyReading},{name:"Want to Read",booksInside:a.wantToRead},{name:"Read",booksInside:a.read}];return o.a.createElement("div",{className:"list-books"},o.a.createElement("div",{className:"list-books-title"},o.a.createElement("h1",null,"MyReads")),o.a.createElement("div",{className:"list-books-content"},o.a.createElement("div",null,n.map(function(e){return o.a.createElement("div",{key:e.name,className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},e.name),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},0===e.booksInside.length&&o.a.createElement("div",null," No books in ",e.name," "),e.booksInside.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(O,{updateShelf:t,book:e,books:a}))}))))}))),o.a.createElement(p.a,{to:"/search",className:"open-search"},o.a.createElement("button",null," Add a book")))}}]),t}(n.Component),g=a(15),b="https://reactnd-books-api.udacity.com",T=localStorage.token;T||(T=localStorage.token=Math.random().toString(36).substr(-8));var N={Accept:"application/json",Authorization:T},k=function(){return fetch("".concat(b,"/books"),{headers:N}).then(function(e){return e.json()}).then(function(e){return e.books})},Q=function(e,t){return fetch("".concat(b,"/books/").concat(e.id),{method:"PUT",headers:Object(g.a)({},N,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then(function(e){return e.json()})},v=function(e){return fetch("".concat(b,"/search"),{method:"POST",headers:Object(g.a)({},N,{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then(function(e){return e.json()}).then(function(e){return e.books})},H=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={query:"",showingBooks:[],notFound:!1},a.updateQuery=function(e){var t=e.target.value;a.setState({query:t}),t?v(t.trim()).then(function(e){e.length>0?a.setState({showingBooks:e,notFound:!1}):a.setState({showingBooks:[],notFound:!0})}):a.setState({showingBooks:[],notFound:!1})},a.clearQuery=function(){a.setState({query:"",notFound:!1})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.showingBooks,a=e.notFound,n=this.props,c=n.updateShelf,r=n.books;return o.a.createElement("div",{className:"search-books"},o.a.createElement("div",{className:"search-books-bar"},o.a.createElement(p.a,{className:"close-search",to:"/"},"Close"),o.a.createElement("div",{className:"search-books-input-wrapper"},o.a.createElement("input",{type:"text",placeholder:"Search by title or author",value:this.state.query,onChange:this.updateQuery}))),o.a.createElement("div",{className:"search-books-results"},a&&o.a.createElement("div",{className:"no-result"},"Not found related books",o.a.createElement("button",{className:"clear-no-result-button",onClick:this.clearQuery},"clear")),!a&&o.a.createElement("ol",{className:"books-grid"},t.length>0&&t.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(O,{updateShelf:c,book:e,books:r}))}))))}}]),t}(n.Component),E=a(55),y=a(54),R=a(12),S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={currentlyReading:[],wantToRead:[],read:[]},a.updateState=function(){k().then(function(e){a.setState({currentlyReading:e.filter(function(e){return"currentlyReading"===e.shelf}),wantToRead:e.filter(function(e){return"wantToRead"===e.shelf}),read:e.filter(function(e){return"read"===e.shelf})})})},a.updateShelf=function(e,t){var n,o=a.state,c=o.currentlyReading,r=o.wantToRead,l=o.read,s=c.concat(r,l);e.shelf?n=e.shelf:s.forEach(function(t){t.id!==e.id||(n=t.shelf)}),e.shelf=t,Q(e,t).then(function(){n&&a.setState(function(t){return Object(i.a)({},n,t[n]&&t[n].length>0&&t[n].filter(function(t){return t.id!==e.id}))}),"none"!==t&&a.setState(function(a){return Object(i.a)({},t,a[t].concat(e))});var o={currentlyReading:"Currently Reading",wantToRead:"Want To Read",read:"Read",undefined:"Repository",none:"Repository"};"Repository"===o[t]?R.NotificationManager.warning("Deleted ".concat(e.title," from ").concat(o[n]),"Deleted"):"Repository"===o[n]?R.NotificationManager.success("Added ".concat(e.title," to ").concat(o[t]),"Added"):R.NotificationManager.info("Moved ".concat(e.title," from ").concat(o[n]," to ").concat(o[t]),"Shelf Change")})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.updateState()}},{key:"render",value:function(){var e=this;return o.a.createElement(E.a,null,o.a.createElement("div",{className:"app"},o.a.createElement(y.a,{exact:!0,path:"/myreads/",render:function(){return o.a.createElement(A,{books:e.state,updateShelf:e.updateShelf})}}),o.a.createElement(y.a,{exact:!0,path:"/myreads/search",render:function(){return o.a.createElement(H,{books:e.state,updateShelf:e.updateShelf})}})))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.8e3b8e6a.chunk.js.map