{"version":3,"sources":["img/no-cover-img.png","component/ShelfChange.js","component/OneBook.js","component/ListBooks.js","component/BooksAPI.js","component/SearchBooks.js","component/App.js","serviceWorker.js","index.js"],"names":["module","exports","ShelfChange","handleChange","event","book","_this","props","shelf","target","value","updateShelf","_this$props","this","books","allBooks","currentlyReading","concat","wantToRead","read","defaultValue","forEach","b","id","react_default","a","createElement","className","onChange","disabled","Component","OneBook","style","backgroundImage","imageLinks","smallThumbnail","noCover","component_ShelfChange","title","authors","ListBooks","shelves","name","booksInside","map","key","length","component_OneBook","Link","to","api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","getAll","fetch","then","res","json","data","update","method","Object","objectSpread","Content-Type","body","JSON","stringify","search","query","SearchBooks","state","showingBooks","notFound","updateQuery","setState","BooksAPI","trim","clearQuery","_this$state","type","placeholder","onClick","App","updateState","filter","prevShelf","prevState","defineProperty","changeShelfName","undefined","none","NotificationManager","warning","success","info","_this2","BrowserRouter","lib","Route","exact","path","process","render","component_ListBooks","component_SearchBooks","React","Boolean","window","location","hostname","match","ReactDOM","component_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c41740fd.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React, { Component } from 'react'\n\nclass ShelfChange extends Component{\n\n  handleChange = event=>{\n    var book = this.props.book\n    var shelf = event.target.value\n    this.props.updateShelf(book,shelf)\n  }\n\n  render(){\n    const { book,books } =this.props\n    var allBooks = books.currentlyReading.concat(books.wantToRead,books.read)\n\n    var defaultValue = 'none'\n    allBooks.forEach(b =>{\n      if(b.id === book.id){\n         defaultValue = b.shelf\n         return\n      }\n    })\n\n    return(\n      <div className=\"book-shelf-changer\">\n        <select value = {defaultValue} onChange = {this.handleChange}>\n          <option value=\"move\"  disabled>Move to...</option>\n          <option value=\"currentlyReading\">Currently Reading</option>\n          <option value=\"wantToRead\">Want to Read</option>\n          <option value=\"read\">Read</option>\n          <option value=\"none\">None</option>\n        </select>\n      </div>\n    )\n  }\n\n}\n\nexport default ShelfChange\n","import React, { Component } from 'react'\nimport noCover from '../img/no-cover-img.png'\nimport ShelfChange from './ShelfChange'\n\nclass OneBook extends Component{\n  render(){\n    const{updateShelf, book, books} = this.props\n\n    return(\n      <div className=\"book\">\n        <div className=\"book-top\">\n            <div className=\"book-cover\" style={{backgroundImage: `url(${(book.imageLinks && book.imageLinks.smallThumbnail)? book.imageLinks.smallThumbnail:noCover})`}}></div>\n              <ShelfChange\n                updateShelf = {updateShelf}\n                book = {book}\n                books = {books}\n                />\n        </div>\n        <div className=\"book-title\">{book.title? book.title : 'No title available'}</div>\n        <div className=\"book-authors\">{book.authors? book.authors[0]:'No author available'}</div>\n      </div>\n    )\n  }\n\n}\nexport default OneBook\n","import React, { Component } from 'react'\nimport {Link} from 'react-router-dom'\nimport OneBook from './OneBook'\n\nclass ListBooks extends Component{\n\n  render(){\n    //object destructuring\n    const {updateShelf,books} = this.props\n\n    const shelves= [\n      {name:'Currently Reading',\n       booksInside:books.currentlyReading},\n      {name:'Want to Read',\n      booksInside: books.wantToRead},\n      {name:'Read',\n      booksInside:books.read}\n    ]\n\n    return(\n      <div className=\"list-books\">\n        <div className=\"list-books-title\">\n          <h1>MyReads</h1>\n        </div>\n        <div className=\"list-books-content\">\n          <div>\n            {shelves.map(shelf => (\n              <div key={shelf.name} className=\"bookshelf\">\n                <h2 className=\"bookshelf-title\">{shelf.name}</h2>\n                <div className=\"bookshelf-books\">\n                  <ol className=\"books-grid\">\n                    {(shelf.booksInside.length ===0)&&(\n                      <div> No books in {shelf.name} </div>\n                    )}\n                    {shelf.booksInside.map(book=>(\n                      <li key= {book.id}>\n                        <OneBook\n                          updateShelf = {updateShelf}\n                          book = {book}\n                          books = {books}\n                          />\n                      </li>\n                    ))}\n                  </ol>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n        <Link to='/search' className=\"open-search\">\n          <button> Add a book</button>\n        </Link>\n      </div>\n    )\n  }\n}\n\nexport default ListBooks\n","\nconst api = \"https://reactnd-books-api.udacity.com\"\n\n\n// Generate a unique token for storing your bookshelf data on the backend server.\nlet token = localStorage.token\nif (!token)\n  token = localStorage.token = Math.random().toString(36).substr(-8)\n\nconst headers = {\n  'Accept': 'application/json',\n  'Authorization': token\n}\n\nexport const get = (bookId) =>\n  fetch(`${api}/books/${bookId}`, { headers })\n    .then(res => res.json())\n    .then(data => data.book)\n\nexport const getAll = () =>\n  fetch(`${api}/books`, { headers })\n    .then(res => res.json())\n    .then(data => data.books)\n\nexport const update = (book, shelf) =>\n  fetch(`${api}/books/${book.id}`, {\n    method: 'PUT',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ shelf })\n  }).then(res => res.json())\n\nexport const search = (query) =>\n  fetch(`${api}/search`, {\n    method: 'POST',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ query })\n  }).then(res => res.json())\n    .then(data => data.books)\n","import React, {Component} from 'react'\nimport {Link} from 'react-router-dom'\nimport * as BooksAPI from './BooksAPI'\nimport OneBook from './OneBook'\n\nclass SearchBooks extends Component{\n  state = {\n    query:'',\n    showingBooks:[],\n    notFound: false\n  }\n\n  updateQuery= (event)=>{\n    const query = event.target.value\n\n    this.setState({query})\n\n    if(query){\n      BooksAPI.search(query.trim()).then(res =>{\n        if(res.length > 0){\n          this.setState({showingBooks:res, notFound:false})\n        }else{\n          this.setState({showingBooks:[], notFound: true})\n        }\n      })\n    }else{ // if query is empy, clear the results\n      this.setState({showingBooks:[], notFound: false})\n    }\n  }\n\n  clearQuery = () =>{\n    this.setState({query:'', notFound:false})\n  }\n\n\n  render(){\n    const {showingBooks,notFound} = this.state\n    const {updateShelf, books} = this.props\n\n    return(\n      <div className=\"search-books\">\n        <div className=\"search-books-bar\">\n          <Link className=\"close-search\" to='/'>Close</Link>\n          <div className=\"search-books-input-wrapper\">\n            <input\n              type=\"text\"\n              placeholder=\"Search by title or author\"\n              value={this.state.query}\n              onChange = {this.updateQuery}/>\n          </div>\n        </div>\n        <div className=\"search-books-results\">\n          {(notFound)&& (\n            <div className='no-result'>\n              Not found related books\n              <button className='clear-no-result-button' onClick = {this.clearQuery}>clear</button>\n            </div>\n          )}\n          {(!notFound)&& (\n            <ol className=\"books-grid\">\n              {(showingBooks.length >0) &&(\n                showingBooks.map(book=>(\n                  <li key= {book.id}>\n                    <OneBook\n                      updateShelf = {updateShelf}\n                      book = {book}\n                      books = {books}\n                      />\n                  </li>\n                )))\n              }\n            </ol>\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default SearchBooks\n","/**\n * @Author: sharonlee\n * @Date:   2019-02-15T16:00:58-08:00\n * @Last modified by:   sharonlee\n * @Last modified time: 2019-04-02T19:20:25-07:00\n */\n\n\n\nimport React from 'react'\nimport '../css/App.css'\nimport 'react-notifications/lib/notifications.css'\nimport ListBooks from './ListBooks'\nimport SearchBooks from './SearchBooks'\nimport * as BooksAPI from './BooksAPI'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport {NotificationContainer, NotificationManager} from 'react-notifications'\n\nclass App extends React.Component {\n\n  state = {\n    currentlyReading:[],\n    wantToRead:[],\n    read:[]\n  }\n\n  componentWillMount(){\n    this.updateState()\n  }\n\n  updateState=()=>{\n    BooksAPI.getAll().then(books =>{\n      this.setState({\n      currentlyReading:books.filter(book=> book.shelf ==='currentlyReading'),\n      wantToRead: books.filter(book=> book.shelf ==='wantToRead'),\n      read:books.filter(book=> book.shelf ==='read')\n      })\n    })\n  }\n\n  updateShelf =(book,shelf)=>{\n    var prevShelf\n\n    const {currentlyReading, wantToRead, read} = this.state\n    var books = currentlyReading.concat(wantToRead, read)\n\n    // change shelf in main page\n    if(book.shelf){\n      prevShelf = book.shelf\n    }else{\n    // change a book'shelf which has already existed in shelf\n    // in seach page\n      books.forEach(b=>{\n        if(b.id === book.id){\n          prevShelf = b.shelf\n          return\n        }\n      })\n    }\n    book.shelf = shelf\n    BooksAPI.update(book,shelf).then(()=>{\n      if(prevShelf){\n        this.setState(prevState=>({\n          [prevShelf]:(prevState[prevShelf])&&(prevState[prevShelf].length > 0)&&prevState[prevShelf].filter(b=> b.id !== book.id),\n        }))\n      }\n      if(shelf !=='none'){\n        this.setState(prevState =>({\n          [shelf]: prevState[shelf].concat(book)\n        }))\n      }\n\n      // configure notification message\n      var changeShelfName = {\n        'currentlyReading' : 'Currently Reading',\n        'wantToRead' : 'Want To Read',\n        'read': 'Read',\n        'undefined': 'Repository',\n        'none': 'Repository'\n      }\n      if(changeShelfName[shelf] === 'Repository'){\n        NotificationManager.warning(`Deleted ${book.title} from ${changeShelfName[prevShelf]}`,'Deleted')\n      }else if(changeShelfName[prevShelf] === 'Repository'){\n        NotificationManager.success(`Added ${book.title} to ${changeShelfName[shelf]}`,'Added')\n      }else{\n        NotificationManager.info(`Moved ${book.title} from ${changeShelfName[prevShelf]} to ${changeShelfName[shelf]}`,'Shelf Change')\n      }\n    })\n  }\n\n\n  render() {\n    return (\n      <Router>\n\n        <div className=\"app\">\n          // <NotificationContainer/>\n\n          <Route exact path ={process.env.PUBLIC_URL + '/'} render = {()=>(\n            <ListBooks\n              books = {this.state}\n              updateShelf = {this.updateShelf}/>\n\n            )}\n          />\n\n        <Route path = {process.env.PUBLIC_URL + '/search'} render = {()=>(\n                <SearchBooks\n                  books = {this.state}\n                  updateShelf ={this.updateShelf}/>\n            )}\n          />\n\n        </div>\n      </Router>\n\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './component/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}